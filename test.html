<!DOCTYPE html>
<html>

<head>
    <title>Dynamic Table</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>

<body>
    <div class="container">
        <h1>Dynamic Table</h1>
        <table id="myTable" class="table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Rollno/th>
                    <th>First Name</th>
                    <th>Middle Name</th>
                    <th>Last Name</th>
                    <th>Aadhaar No</th>
                    <th>Mobile</th>
                    <th>Email</th>
                    <th>Course</th>
                    <th>Gender</th>
                    <th>Street</th>
                    <th>City</th>
                    <th>State</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
        <button id="addRow" class="btn btn-primary">Add Row</button>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <!-- JavaScript code -->
    <script>
        let BASE_URL = 'http://localhost:8080/hms/';
        let student = localStorage.getItem("data");
        // localStorage.removeItem("data");
        let obj = JSON.parse(student);
        let r = obj.length;
        console.log(r)


        // function to add a new row to the table
        // function addRow() {
        let table = document.getElementById("myTable");
        for (let i = 0; i < r; i++) {
            let newRow = table.insertRow();
            let cols = "";
            cols += `<td>${obj[i].id}</td>`;
            cols += `<td>${obj[i].roll}</td>`;
            cols += `<td>${obj[i].firstName}</td>`;
            cols += `<td>${obj[i].middleName}</td>`;
            cols += `<td>${obj[i].lastName}</td>`;
            cols += `<td>${obj[i].aadhaar}</td>`;
            cols += `<td>${obj[i].mobile}</td>`;
            cols += `<td>${obj[i].email}</td>`;
            cols += `<td>${obj[i].course}</td>`;
            cols += `<td>${obj[i].gender}</td>`;
            cols += `<td>${obj[i].street}</td>`;
            cols += `<td>${obj[i].city}</td>`;
            cols += `<td>${obj[i].state}</td>`;
            cols += '<td><button type="button" class="btn btn-danger" onclick="deleteRow(this)">Update</button></td>';

            newRow.innerHTML = cols;
        }
        // }

        // function to delete the row that contains the delete button that was clicked
        function deleteRow(btn) {
            var row = btn.parentNode.parentNode;
            row.parentNode.removeChild(row);
            counter--;
        }

        // function to show details when the name link is clicked
        function showDetails(link) {
            var name = link.innerText;
            // replace this alert with your desired action
            alert("Showing details for " + name);
        }

        // add an event listener to the "Add Row" button to call the addRow function
        document.getElementById("addRow").addEventListener("click", addRow);
    </script>
</body>

</html>